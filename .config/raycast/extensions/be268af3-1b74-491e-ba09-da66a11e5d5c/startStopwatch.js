"use strict";var c=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var f=(t,e)=>{for(var a in e)c(t,a,{get:e[a],enumerable:!0})},g=(t,e,a,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of h(e))!w.call(t,s)&&s!==a&&c(t,s,{get:()=>e[s],enumerable:!(i=l(e,s))||i.enumerable});return t};var D=t=>g(c({},"__esModule",{value:!0}),t);var T={};f(T,{default:()=>O});module.exports=D(T);var u=require("@raycast/api");var p=require("@raycast/api");var d=require("crypto"),n=require("fs");var o=require("@raycast/api");var S=t=>{let e=(0,o.getPreferenceValues)();if(t.launchedFromMenuBar||e.closeWindowOnTimerStart){let a=t.isErr?"\u26A0\uFE0F":"\u{1F389}";return(0,o.showHUD)(`${a} ${t.msg}`),(0,o.popToRoot)()}else(0,o.showToast)({style:t.isErr?o.Toast.Style.Failure:o.Toast.Style.Success,title:t.msg})};var r=p.environment.supportPath+"/raycast-stopwatches.json",y=()=>{(!(0,n.existsSync)(r)||(0,n.readFileSync)(r).toString()=="")&&(0,n.writeFileSync)(r,"[]")},E=t=>({name:t,swID:(0,d.randomUUID)(),timeStarted:new Date,timeElapsed:-99,lastPaused:"----",pauseElapsed:0});var m=async({swName:t="Untitled",launchedFromMenuBar:e=!1})=>{y();let a=JSON.parse((0,n.readFileSync)(r).toString()),i=E(t);a.push(i),(0,n.writeFileSync)(r,JSON.stringify(a)),(0,p.popToRoot)(),S({msg:`Stopwatch "${t}" started!`,launchedFromMenuBar:e,isErr:!1})};var O=async t=>{await(0,u.closeMainWindow)(),t.arguments.name?m({swName:t.arguments.name}):m({})};
